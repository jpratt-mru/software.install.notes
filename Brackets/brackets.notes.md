# Brackets

## Version history

| semester | version |
| ---      | ---     |
| Fall 2018 | 1.13 |
| Fall 2017 | 1.9 |
| Fall 2016 | 1.7 |
| Winter 2016 | 1.5 |
| Fall 2015 | 1.3 |
| Winter 2015 | Sprint 40 |

## Type of installation

Choco msi install with tweaks

## What changes will a user notice after the install?

- A Brackets shortcut is added to the Start Menu.
- The System Path now has `C:\Program Files (x86)\Brackets\command` in it


## Who uses it?

Mostly web dev classes, though it competes with Notepad++ and Visual Studio Code and Atom.

## What changes from a default installation are made?

- [**default**] App checks for updates on startup and notifies you when your current version is out of date. There is no built-in way to disable this behaviour.
  - [**to change**] You can hack the <install dir>\brackets\www\main.js file by doing a search for "_buildNumber === 0". You'll find an if statement if (_buildNumber === 0 && !force) …change it to if (true || _buildNumber === 0 && !force) and you've just gone Swordfish on Bracket's ass. This even stops Help > Check For Updates from working, too.
- [**default**] Brackets sends anonymous info back to the mothership. When you first start up the app, you get a little notification telling you about this.
  - [**to change**] [CHANGE] If you want to turn off mothership-talk, you can change it through Help > Health Report, which adds "healthData.healthDataTracking": true to brackets.json. You can make that change directly and then copy this modified file over to user's %appdata% folders directly.
  - [**or**] If you just want to send data home, then you'll want to kill the notification. This requires futzing with the state.json file and adding a "healthDataNotificationShow":true entry….but as I mentioned, the quasi-autogenerated nature of the file leaves me loathe to do this, so I'll go with option a) instead.


## Surprises & annoyances

- Meh. The inability to disable auto updates? Ugh.

## If updating this software, is there anything I should know?

- You'll need to grab a new main.js and tweak it. Also, you need a new GUID for the uninstall.

## Misc

Settings seem to be based solely on files stored in the user's profile - %appdata%\Brackets\state.json and brackets.json. You can edit these files directly, though I'd suggest using something other than Brackets to do it (as some settings seem to get written over when Brackets exits). Brackets.json seems to be more of your traditional user preferences file - you can look at https://github.com/adobe/brackets/wiki/How-to-Use-Brackets#preferences for further guidance as to what can go in here. State.json seems to be more of your "generated by the app so don't mess with it" kind of thing. I tried hacking the update notification feature with it for quite a few hours and got pretty well nowhere.
I eventually got a hack that I *think* will work to bypass the update notification - it basically involves playing with <install dir>\brackets\www\main.js file...remember that Brackets is just basically a web app. I looked at the Brackets API here (http://brackets.io/docs/current/modules/utils/UpdateNotification.html) and saw a potential workaround using the if statement if (_buildNumber === 0 && !force) - I just made that particular branch always trigger and *poof* - no more checks! 

Normally on first startup, you’ll get a Windows Firewall popup regarding C:\program files (x86)\brackets\node.exe … I’ve put a GPO into our GP to stop that from happening.

The message that pops up when you run the live preview for the first time is tied in to the state.json file mentioned above. In particular, if you delete the line  "livedev.afterFirstLaunch": "true" line from the file, the message doesn't pop up. Problem is, the nature of the state file is such that you can't pop a version of it without the line into the %appdata%\Brackets directory and have it work. So we're stuck with the message until someone gets all sneaky-like somehow….

Brackets always wants to have a folder in its Project List; normally, this will be the project folder used at last shutdown - if that folder is not available, you’ll get an error message and Brackets will use the Getting Started folder that’s in C:\Program Files (x86)\Brackets\samples\root\Getting Started. A tad annoying, but…..


## Testing

### Testing files

- Use the web project folder (`lab-05-done`) in test-files.

### Testing method

1. Start up Brackets.
    - It should start up without any notifications of new versions or phoning home.
2. Open the testing folder. (File > Open Folder, lab-05-done)
3. See if Live Preview is working by selecting the index.html file and then going File > Live Preview.
    * Chrome should start automatically and the page should be loaded.
